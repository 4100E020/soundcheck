# SoundCheck 專案待辦事項

## 核心功能

### 底部導航與基礎架構
- [x] 建立四個主要分頁 (探索、活動、聊天、我的)
- [x] 設計並實作底部導航欄
- [x] 配置分頁圖示映射

### 探索配對功能
- [x] 實作卡片式配對介面
- [x] 顯示用戶頭像與匹配度
- [x] 實作左滑/右滑手勢
- [x] 實作點歌破冰功能
- [x] 實作每日配對限制 (未驗證: 30人)
- [x] 實作「誰喜歡我」功能 (VVIP專屬)

### 活動管理功能
- [x] 實作活動列表頁面
- [x] 實作活動詳情頁面
- [x] 實作活動詳情頁 Header (固定置頂)
- [x] 實作活動詳情頁三個分頁 (情報/找人/揪團)
- [x] 實作情報分頁 (陣容、熱度、官方資訊)
- [x] 實作找人分頁 (雙欄卡片流)
- [x] 實作揪團分頁 (列表式)
- [x] 實作活動篩選功能
- [x] 實作活動排序功能
- [x] 實作倒數計時顯示

### 票根驗證功能
- [x] 實作票根上傳介面
- [x] 實作驗證狀態顯示
- [x] 實作 VVIP 徽章顯示
- [x] 實作驗證成功動畫
- [x] 實作驗證失敗提示

### 揪團功能
- [x] 實作發起揪團介面
- [x] 實作揪團樣板精靈 (交通/住宿/現場/票券)
- [x] 實作揪團列表顯示
- [x] 實作申請加入功能
- [x] 實作揪團群組聊天室

### 聊天功能
- [x] 實作聊天列表頁面
- [x] 實作私訊對話介面
- [x] 實作群組聊天介面
- [x] 實作訊息通知
- [x] 實作未讀訊息計數

### 個人資料功能
- [x] 實作個人資料頁面
- [x] 實作音樂基因圖視覺化
- [x] 實作票夾功能
- [x] 實作 Spotify 連結功能
- [x] 實作設定頁面

## 資料庫架構
- [x] 設計用戶資料表
- [x] 設計活動資料表
- [x] 設計票根驗證資料表
- [x] 設計配對資料表
- [x] 設計揪團資料表
- [x] 設計聊天訊息資料表
- [x] 設計音樂基因資料表
- [x] 執行資料庫遷移

## 後端 API
- [x] 實作用戶認證 API
- [x] 實作活動管理 API
- [x] 實作票根驗證 API
- [x] 實作配對系統 API
- [x] 實作揪團管理 API
- [x] 實作聊天系統 API
- [x] 實作音樂基因分析 API
- [x] 實作用戶資料更新 API

## UI/UX 優化
- [x] 設計並套用品牌色彩系統
- [x] 生成應用程式標誌
- [x] 實作暗色模式支援
- [x] 實作載入動畫
- [x] 實作觸覺回饋
- [x] 實作配對成功動畫
- [x] 實作票根驗證動畫

## 測試與部署
- [x] 進行 TypeScript 類型檢查
- [x] 寫入單元測試 (26 個測試通過)
- [x] 儲存專案檢查點 (v778d1688)


## 註冊流程與地理位置
- [x] 實作多步驟註冊流程
- [x] 實作位置權限申請與位置获取
- [x] 實作個人資料完善頁面
- [x] 實作音樂偏好設定頁面
- [x] 實作附近活動顯示功能
- [x] 整合位置數據到活動列表


## 活動爬蟲系統
- [x] 建立 KKTIX 爬蟲
- [x] 建立 iNDIEVOX 爬蟲
- [x] 建立 Accupass 爬蟲
- [x] 實作活動數據標準化
- [x] 實作活動數據存儲
- [x] 整合真實活動數據到應用程式
- [x] 實作活動數據自動更新 (triggerScrape API)

## UX 流程審計
- [x] 審計應用下載流程
- [x] 審計首次開啟體驗
- [x] 審計註冊/登入流程
- [x] 審計主要功能流程
- [x] 審計錯誤處理
- [x] 審計載入狀態
- [x] 審計空狀態
- [x] 修復發現的 UX 問題


## 活動數據庫整合
- [x] 更新資料庫 Schema 添加 standardized_events 表
- [x] 實作數據存儲與更新邏輯
- [x] 建立活動查詢 API 端點
- [x] 執行初始爬蟲並存儲數據
- [x] 更新應用程式使用真實 API
- [x] 測試真實數據顯示

## 認證前端
- [x] 建立 AuthContext 全域認證狀態管理
- [x] 建立登入頁面 (email/password)
- [x] 更新註冊頁面使用真實 API
- [x] 更新個人資料頁面顯示認證狀態
- [x] 實作登出功能

## 活動詳情頁修復
- [x] 修復活動詳情頁使用真實 API 數據
- [x] 修復活動列表頁傳遞正確的活動 ID

## UX 流程修復與活動圖片
- [x] 活動列表頁加入活動封面圖片
- [x] 活動詳情頁加入活動封面圖片
- [x] 審計並修復首頁 UX 流程
- [x] 審計並修復活動頁面 UX 流程
- [x] 修復空狀態顯示
- [x] 修復載入狀態顯示
- [x] 修復錯誤處理顯示
- [x] 修復導航流程

## 爬蟲圖片優化
- [x] 審查 KKTIX 爬蟲的圖片擷取邏輯
- [x] 審查 iNDIEVOX 爬蟲的圖片擷取邏輯
- [x] 審查 Accupass 爬蟲的圖片擷取邏輯
- [x] 優化 KKTIX 爬蟲抓取真實封面圖片
- [x] 優化 iNDIEVOX 爬蟲抓取真實封面圖片
- [x] 優化 Accupass 爬蟲抓取真實封面圖片
- [x] 測試爬蟲並驗證圖片數據正確性
- [x] 確認活動列表和詳情頁顯示真實圖片

## 配對與聊天功能實作
- [x] 設計配對資料庫 schema（matches, likes, swipes）
- [x] 設計聊天資料庫 schema（conversations, messages）
- [x] 建立資料庫遷移檔案（schema 已存在）
- [x] 實作配對 API（like, pass, getMatches）
- [x] 實作聊天 API（sendMessage, getConversations, getMessages）
- [x] 更新首頁探索頁使用真實配對邏輯
- [x] 更新聊天頁使用真實聊天數據
- [x] 更新聊天詳情頁使用真實訊息數據

## 爬蟲執行與數據填充
- [x] 清空現有活動數據
- [x] 執行 KKTIX 爬蟲
- [ ] 執行 iNDIEVOX 爬蟲
- [ ] 執行 Accupass 爬蟲
- [x] 驗證活動圖片已正確抓取
- [x] 驗證活動數據完整性

## Mock 數據移除
- [x] 移除 lib/mock-data.ts 的使用（探索頁）
- [x] 移除 lib/mock-chat-data.ts 的使用
- [x] 確認所有頁面使用真實 API
- [x] 測試完整應用流程

## iNDIEVOX 和 Accupass 爬蟲修復
- [x] 檢查 iNDIEVOX 爬蟲程式碼
- [x] 檢查 Accupass 爬蟲程式碼
- [x] 修復 iNDIEVOX 爬蟲的網站回應問題（已正常運作）
- [x] 修復 Accupass 爬蟲的網站回應問題（已正常運作）
- [x] 改善錯誤處理和重試機制（已內建 timeout 和 delay）
- [x] 測試 iNDIEVOX 爬蟲執行
- [x] 測試 Accupass 爬蟲執行
- [x] 執行爬蟲填充資料庫
- [x] 驗證活動數據完整性（圖片、時間、地點）
- [x] 確認三個平台數據都已整合

## 爬蟲修復與測試數據清除
- [x] 修復 KKTIX 爬蟲時間過濾（排除過期活動）
- [x] 修復 iNDIEVOX 爬蟲時間過濾（排除過期活動）
- [x] 修復 Accupass 爬蟲時間過濾（排除過期活動）
- [x] 擴充 KKTIX 組織列表（從 11 個擴充至 30 個）
- [x] 改進 iNDIEVOX 選擇器和抓取策略（增加抓取數量至 50）
- [x] 擴充 Accupass 搜尋關鍵字（從 7 個擴充至 22 個，抓取數量至 30）
- [x] 移除探索頁的 mock 用戶數據（已使用真實 API）
- [x] 清空資料庫舊數據
- [x] 重新執行爬蟲填充資料庫
- [x] 驗證只有未來活動被抓取

## 擴充爬蟲測試結果
- [x] KKTIX：11 個活動（從 30 個組織中）
- [x] iNDIEVOX：13 個活動（從 50 個候選中）
- [x] Accupass：30 個活動（從 22 個關鍵字搜尋中）
- [x] 總計：54 個未來活動，全部有真實封面圖片

## 優化與美化
- [x] 建立音樂類型分類系統（搖滾、電子、爭士、古典等）
- [ ] 在活動列表加入分類篩選功能
- [x] 改進 LLM prompt 提高場地資訊提取準確率
- [x] 改進 LLM prompt 提高票價資訊提取準確率
- [x] 檢查並移除所有頁面的過多 emoji
- [x] 優化文案，保持專業簡潔
- [x] 美化活動卡片設計
- [x] 優化配色方案
- [x] 改進間距與字體大小
- [x] 提升整體視覺質感
